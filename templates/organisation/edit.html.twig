{% extends 'base.html.twig' %}

{% block title %}Organisation creation page{% endblock %}

{% block nav %}
    {% include 'organisation/navbar.html.twig' %}
{% endblock %}

{% form_theme editForm 'bootstrap_5_layout.html.twig' %}
{% block body %}
    <div>
        <div class="available-height">
            <div class="h-50 d-flex flex-column justify-content-center align-items-center">
                <h1 class="text-center fw-bold pb-2 pt-5">My informations</h1>
                <h4 class="main-organisation-text text-center">Tell me more about your organisation</h4>
            </div>
            <div class="h-25 position-relative">
                <div id="scroll-down-mouse">
                    Let's get started!
                    <div>
                        <img src="{{ asset('build/images/website/mouse.png') }}" alt="mouse" width="50" height="auto">
                    </div>
                </div>
            </div>
        </div>
        <div>
            {{ form_start(editForm) }}
            <div data-aos="fade-right" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_row(editForm.name) }}
                <span class="organisation-form-required">
                    {{ editForm.name.vars.required ? '*' : '' }}
                </span>
            </div>
            <div data-aos="fade-left" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_row(editForm.address) }}
                <span class="organisation-form-required">
                    {{ editForm.address.vars.required ? '*' : '' }}
                </span>
            </div>
            <div data-aos="fade-left" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {% if organisation.avatarName is null or organisation.avatarName is empty %}
                    {{ form_row(editForm.avatarName, {required: true}) }}
                {%  else %}
                    {{ form_row(editForm.avatarFile) }}
                {% endif %}
                <span class="organisation-form-required">
                    {{ editForm.avatarFile.vars.required ? '*' : '' }}
                </span>
                <a href="{{ asset('uploads/images/organisations/avatars/' ~ organisation.avatarName) }}" target="_blank">
                    <div class="fst-italic text-decoration-underline">Previous picture</div>
                </a>
            </div>
            <div data-aos="fade-right" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_row(editForm.activityPictureName) }}
                <span class="organisation-form-required">
                    {{ editForm.activityPictureName.vars.required ? '*' : '' }}
                </span>
            </div>
            <div data-aos="fade-right" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_row(editForm.representative) }}
                <span class="organisation-form-required">
                    {{ editForm.representative.vars.required ? '*' : '' }}
                </span>
            </div>
            <div data-aos="fade-left" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_row(editForm.description) }}
                <span class="organisation-form-required">
                    {{ editForm.description.vars.required ? '*' : '' }}
                </span>
            </div>
            <div data-aos="fade-right" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_label(editForm.keywords) }}
                <span class="organisation-form-required">
                    {{ editForm.keywords.vars.required ? '*' : '' }}
                </span>
                {{ form_errors(editForm.keywords) }}
                <ul id="organisation-keywords-list">
                    {% for keyword in editForm.keywords %}
                        <li class="my-3 position-relative">
                            {{ form_widget(keyword) }}
                            <span class="organisation-remove-item">
                                <i class="fa-solid fa-xmark"></i>
                            </span>
                        </li>
                    {% endfor %}
                    <li id="keyword-add-button" class="list-group-item mt-4 d-flex justify-content-center">
                        <div class="organisation-keyword-add">+</div>
                    </li>
                </ul>
            </div>
            <div data-aos="fade-left" class="w-75 w-lg-50 w-xxl-25 profile-form-row-container position-relative">
                {{ form_label(editForm.links) }}
                <span class="organisation-form-required">
                    {{ editForm.links.vars.required ? '*' : '' }}
                </span>
                {{ form_errors(editForm.links) }}
                <ul id="organisation-links-list">
                    {% for link in editForm.links %}
                        <li class="my-3 position-relative">
                            {{ form_widget(link) }}
                            <span class="organisation-remove-item">
                                <i class="fa-solid fa-xmark"></i>
                            </span>
                        </li>
                    {% endfor %}
                    <li id="link-add-button" class="list-group-item mt-4 d-flex justify-content-center">
                        <div class="organisation-link-add">+</div>
                    </li>
                </ul>
            </div>
            <div class="d-flex mb-4">
                <div class="w-75"></div>
                <button class="validation-button" type="submit">Save</button>
            </div>
            {{ form_end(editForm) }}
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/organisation-form.js') }}" type="text/javascript"></script>
{% endblock %}
